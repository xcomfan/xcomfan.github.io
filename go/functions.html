<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Go Functions | My References</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Go Functions" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/go/functions" />
<meta property="og:url" content="http://localhost:4000/go/functions" />
<meta property="og:site_name" content="My References" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Go Functions" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Go Functions","url":"http://localhost:4000/go/functions"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="My References" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">My References</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Go Functions</h1>
  </header>

  <div class="post-content">
    
<h2 id="defining-a-function">Defining a Function</h2>

<p>Go does not have optional or named parameters.  Go also does not do function overloading.</p>

<p><strong>*Note:</strong> All arguments in Go are passed by value.  A copy of the object being passed is made.  You can use pointers to pass by reference.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="n">addNumbers</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>
</code></pre></div></div>

<p>When two or more consecutive named function parameters share a type, you can omit the ty ep from all but the last.  Thus the above example can be written as.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="n">addNumbers</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="functions-can-return-any-number-values">Functions can return any number values</h2>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="n">divAndRemainder</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">,</span> <span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">){</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span>
<span class="p">}</span>

<span class="n">div</span><span class="p">,</span> <span class="n">remainder</span> <span class="o">=</span> <span class="n">divAndRemainder</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span>
<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">div</span><span class="p">,</span> <span class="n">remainder</span><span class="p">)</span>

<span class="n">_</span><span class="p">,</span> <span class="n">rem</span> <span class="o">=</span> <span class="n">divAndRemainder</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">3</span><span class="p">)</span> <span class="c">// convention to use _ for variable you don't need as go makes you read variables that are declared.</span>
</code></pre></div></div>

<h2 id="naked-return">Naked return</h2>

<p>Go’s return values may be named.  You do this by defining them at the top of the function.  These names should be used to document the meaning of the return values.  A <code class="language-plaintext highlighter-rouge">return</code> statement without arguments returns the named return values.  This is known as the “naked return”.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">split</span><span class="p">(</span><span class="n">sum</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">*</span> <span class="m">4</span> <span class="o">/</span> <span class="m">9</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">-</span> <span class="n">x</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">split</span><span class="p">(</span><span class="m">17</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="functions-can-be-passed-as-arguments">Functions Can Be Passed As Arguments</h2>

<p>This is useful when you want to register a function to execute when a certain event occurs.  The example of the Go http server where you define a function that executes when a certain route is requested is an example of this.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">addOne</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="m">1</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">addTwo</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="m">2</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">printOperation</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">,</span> <span class="n">f</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span><span class="p">){</span> <span class="c">// Any function that takes int arg and returns int can be passed in here.</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="c">// here we are calling the function that was passed ot us.</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">(){</span>
    <span class="c">//passing in the two functions</span>
    <span class="n">printOperation</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">addOne</span><span class="p">)</span>
    <span class="n">printOperation</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="n">addTwo</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can also return a function from a function.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">makeAdder</span><span class="p">(</span><span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">func</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>  <span class="c">// b is stored in the closure and a is arg passed when function is called.</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">addOne</span> <span class="o">:=</span> <span class="n">makeAdder</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="n">addTwo</span> <span class="o">:=</span> <span class="n">makeAdder</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">addOne</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">addTwo</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Putting it all together; you can have a function that takes a function as an argument and returns a function.  This is useful if you need to run code around a function.  For example <code class="language-plaintext highlighter-rouge">http.HandleFunc("/hello", log(printHello))</code> <code class="language-plaintext highlighter-rouge">http.HandleFunc("/bye", log(printBye))</code> where <code class="language-plaintext highlighter-rouge">printHello</code> and <code class="language-plaintext highlighter-rouge">printBye</code> are their own respective functions.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">makeAdder</span><span class="p">(</span><span class="n">b</span> <span class="kt">int</span><span class="p">)</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">func</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">makeDoubler</span><span class="p">(</span><span class="n">f</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span><span class="p">)</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">func</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">){</span>
        <span class="n">b</span> <span class="o">:=</span> <span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">b</span> <span class="o">*</span> <span class="m">2</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">addOne</span> <span class="o">:=</span> <span class="n">makeAdder</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
    <span class="n">doubleAddOne</span> <span class="o">:=</span> <span class="n">makeDoubler</span><span class="p">(</span><span class="n">addOne</span><span class="p">)</span>

    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">addOne</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">doubleAddOne</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="anonymous-functions">Anonymous Functions</h2>

<p>You can declare a function inside of another function using anonymous functions.  A function declared this way is not accessible outside the function it is declared in and the variables inside the anonymous functions are not accessible in the enclosing function.  Variables of the “outer” function are available in the “inner” function and thus you have closures.  You CAN assign values to the variables of the outer function from the inner function.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">main</span><span class="p">(){</span>
    <span class="n">myAddOne</span> <span class="o">:=</span> <span class="k">func</span><span class="p">(</span><span class="n">a</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="m">1</span>
    <span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">myAddOne</span><span class="p">(</span><span class="m">1</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="function-closures">Function closures</h2>

<p>Go functions may be closures.  A closure is a function value that references variables from outside its body.  The function may access and assign to the referenced variables; in this sense the function is bound to the variables.</p>

<p>In example below, the <code class="language-plaintext highlighter-rouge">adder</code> function returns a closure.  Each closure is bound to its own <code class="language-plaintext highlighter-rouge">sum</code> variable.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="k">func</span> <span class="n">adder</span><span class="p">()</span> <span class="k">func</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="n">sum</span> <span class="o">:=</span> <span class="m">0</span>
    <span class="k">return</span> <span class="k">func</span><span class="p">(</span><span class="n">x</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
        <span class="n">sum</span> <span class="o">+=</span> <span class="n">x</span>
        <span class="k">return</span> <span class="n">sum</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pos</span><span class="p">,</span> <span class="n">neg</span> <span class="o">:=</span> <span class="n">adder</span><span class="p">(),</span> <span class="n">adder</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="m">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span>
            <span class="n">pos</span><span class="p">(</span><span class="n">i</span><span class="p">),</span>
            <span class="n">neg</span><span class="p">(</span><span class="o">-</span><span class="m">2</span><span class="o">*</span><span class="n">i</span><span class="p">),</span>
        <span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="type-parameters">Type parameters</h2>

<p>Go functions can be written to work on multiple types using type parameters.  The type parameters of a function appear between brackets before the function’s arguments.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span> <span class="n">Index</span><span class="p">[</span><span class="n">T</span> <span class="n">comparable</span><span class="p">](</span><span class="n">s</span> <span class="p">[]</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span> <span class="n">T</span><span class="p">)</span> <span class="kt">int</span>
</code></pre></div></div>

<p>This declaration means that <code class="language-plaintext highlighter-rouge">s</code> is a slice of any type <code class="language-plaintext highlighter-rouge">T</code> that fulfills the built-in constraint <code class="language-plaintext highlighter-rouge">comparable</code>.  <code class="language-plaintext highlighter-rouge">x</code> is also a value of the same type.</p>

<p><code class="language-plaintext highlighter-rouge">comparable</code> is a useful constraint that makes it possible to use the <code class="language-plaintext highlighter-rouge">==</code> and <code class="language-plaintext highlighter-rouge">!=</code> operators on values of the type.</p>

<p>In the example below we use it to compare a value to all slice elements until a match is found.  This index function works for any type that supports comparison.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="s">"fmt"</span>

<span class="c">// Index returns the index of x in s, or -1 if not found.</span>
<span class="k">func</span> <span class="n">Index</span><span class="p">[</span><span class="n">T</span> <span class="n">comparable</span><span class="p">](</span><span class="n">s</span> <span class="p">[]</span><span class="n">T</span><span class="p">,</span> <span class="n">x</span> <span class="n">T</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">s</span> <span class="p">{</span>
        <span class="c">// v and x are type T, which has the comparable</span>
        <span class="c">// constraint, so we can use == here.</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">x</span> <span class="p">{</span>
            <span class="k">return</span> <span class="n">i</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">-</span><span class="m">1</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c">// Index works on a slice of ints</span>
    <span class="n">si</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="m">10</span><span class="p">,</span> <span class="m">20</span><span class="p">,</span> <span class="m">15</span><span class="p">,</span> <span class="o">-</span><span class="m">10</span><span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="n">si</span><span class="p">,</span> <span class="m">15</span><span class="p">))</span>

    <span class="c">// Index also works on a slice of strings</span>
    <span class="n">ss</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"foo"</span><span class="p">,</span> <span class="s">"bar"</span><span class="p">,</span> <span class="s">"baz"</span><span class="p">}</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">Index</span><span class="p">(</span><span class="n">ss</span><span class="p">,</span> <span class="s">"hello"</span><span class="p">))</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="generic-types">Generic types</h2>

<p>In addition to generic functions, Go also supports generic types.  A type can be parameterized with a type parameter, which could be useful for implementing generic data structures.  The example below demonstrates a simple type declaration for a singly linked list holding any type of value.</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="c">// List represents a singly-linked list that holds</span>
<span class="c">// values of any type.</span>
<span class="k">type</span> <span class="n">List</span><span class="p">[</span><span class="n">T</span> <span class="n">any</span><span class="p">]</span> <span class="k">struct</span> <span class="p">{</span>
    <span class="n">next</span> <span class="o">*</span><span class="n">List</span><span class="p">[</span><span class="n">T</span><span class="p">]</span>
    <span class="n">val</span>  <span class="n">T</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
<span class="p">}</span>
</code></pre></div></div>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">My References</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">My References</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
